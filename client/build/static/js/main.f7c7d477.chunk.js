(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/story-prompt-logo.cec418ee.png"},31:function(e,t,a){e.exports=a(94)},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},66:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(26),o=a.n(s),i=a(96),l=a(98),c=a(97),m=a(2),p=a.n(m),h=a(4),u=a(5),d=a(8),f=a(10),y=a(9),g=a(11);a(38);function E(e){return n.a.createElement("div",{className:"container".concat(e.fluid?"-fluid":""),id:e.id},e.children)}function v(e){return n.a.createElement("div",{className:"row".concat(e.fluid?"-fluid":""),id:e.id},e.children)}var b=a(27),N=a.n(b);a(40);var C=function(e){return n.a.createElement("div",{className:e.className},n.a.createElement("img",{src:N.a,alt:e.alt}),n.a.createElement("p",null,e.children))};a(42);var w=function(e){return n.a.createElement("div",{id:e.id},"Welcome, ",e.confirm.username)};a(44);var k=function(e){if("undefined"!=typeof e.style){if("h1"===e.className)return n.a.createElement("h1",{style:e.style},e.children);if("h2"===e.className)return n.a.createElement("h2",{style:e.style},e.children);if("h3"===e.className)return n.a.createElement("h3",{style:e.style},e.children);if("h4"===e.className)return n.a.createElement("h4",{style:e.style},e.children);if("h5"===e.className)return n.a.createElement("h5",{style:e.style},e.children);if("h6"===e.className)return n.a.createElement("h6",{style:e.style},e.children)}else{if("h1"===e.className)return n.a.createElement("h1",null,e.children);if("h2"===e.className)return n.a.createElement("h2",null,e.children);if("h3"===e.className)return n.a.createElement("h3",null,e.children);if("h4"===e.className)return n.a.createElement("h4",null,e.children);if("h5"===e.className)return n.a.createElement("h5",null,e.children);if("h6"===e.className)return n.a.createElement("h6",null,e.children)}},S=(a(46),function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return"btn"===this.props.className?n.a.createElement("button",{className:this.props.className,id:this.props.id,name:this.props.name,onClick:this.props.clickEvent2&&this.props.clickEvent3?function(){e.props.clickEvent1(),e.props.clickEvent2(e.props.id),e.props.clickEvent3(e.props.id)}:this.props.clickEvent2?function(){e.props.clickEvent1(),e.props.clickEvent2(e.props.id)}:function(){e.props.clickEvent1()}},this.props.children):"undefined"!=typeof this.props.href?n.a.createElement("a",{className:this.props.className,href:this.props.href,id:this.props.id,name:this.props.name},n.a.createElement(k,{className:this.props.headerName},this.props.children)):void 0}}]),t}(r.Component));a(48);var x=function(e){return"/"===e.history.location.pathname?n.a.createElement("div",{className:e.className},n.a.createElement(S,{className:"btn",id:"login",name:"Log-in",clickEvent1:e.toggleModal,clickEvent2:e.formChoice},"Log-in"),n.a.createElement(S,{className:"btn",id:"signup",name:"Sign-up",clickEvent1:e.toggleModal,clickEvent2:e.formChoice},"Sign-up")):n.a.createElement("div",{className:e.className},n.a.createElement(w,{confirm:e.confirm,id:"greeting"}),n.a.createElement(S,{className:"btn",id:"logout",name:"Log-out",clickEvent1:e.logout},"Log-out"))};a(50);var F=function(e){return n.a.createElement("nav",{className:e.className},n.a.createElement(C,{className:"logo",alt:"story-prompt-logo",children:"WriteSpire"}),n.a.createElement(x,{history:e.history,confirm:e.confirm,formChoice:e.formChoice,logout:e.logout,toggleModal:e.toggleModal,className:"nav-items"}))};a(52);var P=function(e){return n.a.createElement("div",{className:"jumbotron"},e.children)};a(54);var j=function(e){return n.a.createElement("p",{className:"section"},e.children)};a(56);var O=function(e){return n.a.createElement("div",{className:"card-overlay"},n.a.createElement("div",{className:"card "+e.className,id:e.id},e.children))};a(58);var D=function(e){return n.a.createElement("div",{className:"modal-overlay"},n.a.createElement("div",{className:"modal"},n.a.createElement(S,{className:"btn",id:"close",name:"close",clickEvent1:e.toggleModal},"\xd7"),n.a.createElement("div",{className:"modal-content"},e.children)))};a(60);var T=function(e){switch(e.id){case"card":case"modal":return n.a.createElement("div",{className:e.className+" "+e.id+"-wrapper",style:e.style},e.children);default:return n.a.createElement("div",{className:e.className+" wrapper",style:e.style},e.children)}},M=a(14);a(62);for(var A=function(e){return n.a.createElement("label",{htmlFor:e.htmlFor,className:e.className},e.children)},I=a(30),B=(a(66),""),L=["Andale Mono=andale mono,times;","Arial=arial,helvetica,sans-serif;","Arial Black=arial black,avant garde;","Book Antiqua=book antiqua,palatino;","Comic Sans MS=comic sans ms,sans-serif;","Courier New=courier new,courier;","Georgia=georgia,palatino;","Helvetica=helvetica;","Impact=impact,chicago;","Symbol=symbol;","Tahoma=tahoma,arial,helvetica,sans-serif;","Terminal=terminal,monaco;","Times New Roman=times new roman;","Trebuchet MS=trebuchet ms,geneva;","Verdana=verdana,geneva;","Webdings=webdings;","Wingdings=wingdings,zapf dingbats"],_=0;_<L.length;_++)B+=L[_];for(var H=["000000","Black","333333","Very dark gray","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","993300","Burnt orange","333399","Indigo","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum","FFFFFF","White"],z="",W=["Paragraph=p;","Header 1=h1;","Header 2=h2;","Header 3=h3;","Header 4=h4;","Header 5=h5;","Header 6=h6;","Preformatted=pre"],G=0;G<W.length;G++)z+=W[G];for(var U="",q=["8px"," 10px"," 11px"," 12px"," 14px"," 16px"," 18px"," 24px"," 36px"," 48px"],R=0;R<q.length;R++)U+=q[R];var J=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).handleEditorChange=function(e){console.log("Content was updated: "+e.target.getContent())},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){if("textarea"===this.props.className)return n.a.createElement("div",null,n.a.createElement(I.a,{apiKey:"yhp0y04pvnpkc8yzem7g3jm3p1w5b4bscfmm1qs8xo6aijv0",init:{menubar:!1,plugins:"code",toolbar:["undo redo | fontselect fontsizeselect forecolor backcolor | code","bold italic underline | alignleft aligncenter alignright alignjustify","formatselect | bullist numlist | outdent indent"],width:500,height:300,resize:!1,browser_spellcheck:!0,block_formats:z,font_formats:B,fontsize_formats:U,color_map:H}}));if("checkbox"===this.props.className)return n.a.createElement("input",{name:this.props.name,type:this.props.type,value:this.props.value,onChange:this.props.onChange,defaultChecked:this.props.default});if("input"===this.props.className){if("undefined"!=typeof this.props.value)return n.a.createElement("input",{name:this.props.name,type:this.props.type,size:this.props.size,value:this.props.value,onChange:this.props.onChange});if("undefined"===typeof this.props.value)return n.a.createElement("input",{name:this.props.name,type:this.props.type,onChange:this.props.onChange})}}}]),t}(r.Component),V=a(12),Y=a.n(V),K={signup:function(e,t){return Y.a.post("/api/signup",{username:e,password:t})},usernameCheck:function(e){return Y.a.post("/api/user",{username:e})},scrape:function(){return Y.a.get("/scrape")},prompts:function(){return Y.a.get("/api/prompts")},prompt:function(e){return Y.a.get("/api/prompt/"+e)},stories:function(){return Y.a.get("/api/stories/")},story:function(e,t){return Y.a.get("/api/story/"+e+"/"+t)},storyPrompt:function(e){return Y.a.get("/api/story-prompt/"+e)},save:function(e){return Y.a.post("/api/story",e)},share:function(e){return Y.a.put("/api/story",e)}},Q=a(28),X=a(18),Z=a.n(X),$=function e(){var t=this;Object(u.a)(this,e),this.login=function(e,a){return t.fetch("/api/login",{method:"POST",body:JSON.stringify({username:e,password:a})}).then(function(e){return t.setToken(e.token),Promise.resolve(e)})},this.loggedIn=function(){var e=t.getToken();return!!e&&!t.isTokenExpired(e)},this.isTokenExpired=function(e){try{return Z()(e).exp()<Date.now()/1e3}catch(t){return!1}},this.setToken=function(e){localStorage.setItem("id_token",e)},this.getToken=function(){return localStorage.getItem("id_token")},this.logout=function(){return localStorage.removeItem("id_token")},this.getConfirm=function(){return Z()(t.getToken())},this.fetch=function(e,a){var r={Accept:"application/json","Content-Type":"application/json"};return t.loggedIn()&&(r.Authorization="Bearer "+t.getToken()),fetch(e,Object(Q.a)({headers:r},a)).then(t._checkStatus).then(function(e){return e.json()})},this._checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},ee=(a(89),function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).Auth=new $,a.state={username:"",password:"",title:"",body:"",share:!1},a.getSessionData=function(e){return sessionStorage.getItem(e)},a.handleFormSubmit=function(e){if(e.preventDefault(),"signup"===a.props.className)K.signup(a.state.username,a.state.password).then(function(e){a.Auth.login(a.state.username,a.state.password).then(function(e){if(!e)return alert("Sorry those credentials don't exist.");a.props.history.push("/prompts")}).catch(function(e){throw e})}).catch(function(e){return console.log(e)});else if("login"===a.props.className)a.Auth.login(a.state.username,a.state.password).then(function(e){if(!e)return alert("Sorry those credentials don't exist.");a.props.history.push("/prompts")}).catch(function(e){return console.log(e)});else{var t=a.Auth.getConfirm().id,r="";0===a.props.history.location.pathname.indexOf("/prompt/")?r=parseInt(a.props.history.location.pathname.replace("/prompt/","")):0===a.props.history.location.pathname.indexOf("/story/")&&(r=parseInt(a.props.history.location.pathname.replace("/story/","")));var n={story:{title:a.state.title,body:a.state.body},share:a.state.share,UserId:t,PromptId:r};a.getSessionData("story-title")&&a.getSessionData("story-body")?K.share(n).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}):K.save(n).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},a.handleUsernameChange=function(e){var t=e.target,r=t.name,n=t.value;K.usernameCheck(n).then(function(e){"string"===typeof e.data?alert("The username already exists. Please choose another."):a.setState(Object(M.a)({},r,n))})},a.handleChange=function(){var e=Object(h.a)(p.a.mark(function e(t){var r,n,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,n=r.name,s=r.value,e.next=3,a.setState(Object(M.a)({},n,s));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleCheckboxChange=function(){var e=Object(h.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({share:!a.state.share});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.getSessionData("story-title")&&this.getSessionData("story-body")&&(this.getSessionData("story-shared")&&this.setState({share:this.getSessionData("story-shared")}),this.state.share||this.setState({title:this.getSessionData("story-title"),body:this.getSessionData("story-body")}))}},{key:"render",value:function(){return"signup"!==this.props.className&&"login"!==this.props.className?n.a.createElement("form",{className:this.props.className+" form"},n.a.createElement("div",{className:"form-group"},n.a.createElement(k,{className:"h3"},this.props.children)),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"title",children:"Title"}),n.a.createElement("br",null),n.a.createElement(J,{className:"input",name:"title",type:"text",size:"50",value:this.state.title,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"body",children:"Story"}),n.a.createElement("br",null),n.a.createElement(J,{className:"textarea",name:"body",rows:"15",cols:"80",type:"text",value:this.state.body,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group",id:"checkbox"},n.a.createElement(A,{htmlFor:"share",children:"Share"}),n.a.createElement(J,{className:"checkbox",name:"share",type:"checkbox",value:this.state.share,onChange:this.handleCheckboxChange})),n.a.createElement("button",{name:"save",className:this.props.className+" submit-btn",id:"save-story",onClick:this.handleFormSubmit},"Save")):"signup"===this.props.className?n.a.createElement("form",{className:this.props.className+" form"},n.a.createElement("div",{className:"form-group"},n.a.createElement(k,{className:"h3"},this.props.children)),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"username",children:"Username"}),n.a.createElement("br",null),n.a.createElement(J,{className:"input",name:"username",type:"text",onChange:this.handleUsernameChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"password",children:"Password"}),n.a.createElement("br",null),n.a.createElement(J,{className:"input",name:"password",type:"password",onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"confirm",children:"Confirm Password"}),n.a.createElement("br",null),n.a.createElement(J,{className:"input",name:"confirm",type:"password",onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("button",{name:this.props.children,className:this.props.className+" submit-btn",onClick:this.handleFormSubmit},this.props.children)):"login"===this.props.className?n.a.createElement("form",{className:this.props.className+" form"},n.a.createElement("div",{className:"form-group"},n.a.createElement(k,{className:"h3"},this.props.children)),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"username",children:"Username"}),n.a.createElement("br",null),n.a.createElement(J,{className:"input",name:"username",type:"text",onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement(A,{htmlFor:"password",children:"Password"}),n.a.createElement("br",null),n.a.createElement(J,{className:"input",name:"password",type:"password",onChange:this.handleChange})),n.a.createElement(S,{className:"link",href:"",id:"forgot-password",name:"",headerName:"h5"},"forgot password?"),n.a.createElement("button",{name:this.props.children,className:this.props.className+" submit-btn",onClick:this.handleFormSubmit},this.props.children)):void 0}}]),t}(r.Component)),te=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(f.a)(this,Object(y.a)(t).call(this))).getPrompts=function(){K.prompts().then(function(t){return e.setState({prompts:t.data})}).catch(function(e){return console.log(e)})},e.clearData=function(){return sessionStorage.clear()},e.getStories=function(){K.stories().then(function(t){return e.setState({storyPrompts:t.data})}).catch(function(e){return console.log(e)})},e.handleFormChoice=function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({formClass:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleToggleModal=Object(h.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showModal:!e.state.showModal});case 2:case"end":return t.stop()}},t,this)})),e.handleTogglePrompt=Object(h.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showPrompt:!e.state.showPrompt});case 2:case"end":return t.stop()}},t,this)})),e.handlePromptCardChoice=function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({promptCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleToggleStory=Object(h.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showStory:!e.state.showStory});case 2:case"end":return t.stop()}},t,this)})),e.handleStoryCardChoice=function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({storyCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handlePromptDetailsButton=function(t){return e.state.showPrompt&&e.state.promptCard===t.id?n.a.createElement("div",null,"\u02c4"):n.a.createElement("div",null,"\u02c5")},e.handleStoryDetailsButton=function(t){return e.state.showStory&&e.state.storyCard===t.id?n.a.createElement("div",null,"\u02c4"):n.a.createElement("div",null,"\u02c5")},e.state={prompts:[],storyPrompts:[],formClass:"",showModal:!1,promptCard:"",showPrompt:!1,storyCard:"",showStory:!1},e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getPrompts(),this.clearData(),this.getStories()}},{key:"render",value:function(){var e=this;return n.a.createElement(E,{id:"index",fluid:!0},n.a.createElement(v,{id:"navbar",fluid:!0},n.a.createElement(F,{history:this.props.history,formChoice:this.handleFormChoice,toggleModal:this.handleToggleModal,className:"navbar"})),n.a.createElement(E,{id:"prompts"},n.a.createElement(v,{id:"jumbotron",fluid:!0},n.a.createElement(P,null,n.a.createElement(v,{id:"header"},n.a.createElement(k,{className:"h1"},"Group Story Writing")),n.a.createElement(v,{id:"description"},n.a.createElement(j,null,"Have you ever had writer's block? ",n.a.createElement("br",null),"Have you ever thought about writing a novel, but didn't know where to begin? ",n.a.createElement("br",null),"Do you need some inspiration for the next piece to your story? ",n.a.createElement("br",null),"Look no further! ",n.a.createElement("br",null),"Using this site, you can design a small piece of a story using the work of others as an inspiration! ",n.a.createElement("br",null),"So get out there and start writing!")))),n.a.createElement(v,{id:"modal",fluid:!0},n.a.createElement(T,{className:"modal",id:"modal",style:this.state.showModal?{display:"flex"}:{}},n.a.createElement(D,{toggleModal:this.handleToggleModal},"signup"===this.state.formClass?n.a.createElement(ee,{history:this.props.history,className:this.state.formClass},"Sign-up"):"login"===this.state.formClass?n.a.createElement(ee,{history:this.props.history,className:this.state.formClass},"Log-in"):null))),n.a.createElement(v,{id:"stories",fluid:!0},n.a.createElement(v,{id:"header"},n.a.createElement(k,{className:"h2",style:{textAlign:"center"}},"Stories")),this.state.prompts.length>0?this.state.prompts.map(function(t,a){return n.a.createElement(v,{key:a,id:t.id},n.a.createElement(O,{id:t.id,className:"prompt-card"},n.a.createElement("div",{className:"card-title"},n.a.createElement(S,{className:"prompt",id:t.id,name:t.title,href:"/prompt/"+t.id,headerName:"h3"},"\xbb ",t.title),n.a.createElement(S,{className:"btn",id:t.id,name:"details",clickEvent1:e.handleTogglePrompt,clickEvent2:e.handlePromptCardChoice,children:e.handlePromptDetailsButton(t)})),n.a.createElement(T,{className:"prompt-body",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},t.text?n.a.createElement(j,null,t.text):n.a.createElement("img",{src:t.src,alt:t.alt})),e.state.storyPrompts.length>0?e.state.storyPrompts.map(function(a,r){return n.a.createElement("div",{key:r},t.id===a.PromptId?n.a.createElement("div",{className:"story-prompts"},n.a.createElement(T,{className:"story-title",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},n.a.createElement(S,{className:"story-prompt",id:a.id,name:a.title,headerName:"h3",href:"/story/"+a.id},">> ",a.title),n.a.createElement(S,{className:"btn",id:a.id,name:"details",clickEvent1:e.handleToggleStory,clickEvent2:e.handleStoryCardChoice,children:e.handleStoryDetailsButton(a)})),n.a.createElement(T,{className:"story-body",id:"card",style:e.state.showStory&&e.state.storyCard===a.id?{display:"flex"}:{}},n.a.createElement(j,null,a.story))):null)}):null))}):null)))}}]),t}(r.Component);var ae=function(e){var t=new $;return function(a){function r(){var e,t;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(y.a)(r)).call.apply(e,[this].concat(n)))).state={loaded:!1,confirm:null},t}return Object(g.a)(r,a),Object(d.a)(r,[{key:"componentDidMount",value:function(){if(t.loggedIn())try{var e=t.getConfirm();this.setState({loaded:!0,confirm:e})}catch(a){console.log(a),t.logout(),this.props.history.replace("/")}else this.props.history.replace("/")}},{key:"render",value:function(){var t=this.state,a=t.loaded,r=t.confirm;return a?r?n.a.createElement(e,{history:this.props.history,confirm:r}):(console.log("not confirmed"),null):null}}]),r}(r.Component)}(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(f.a)(this,Object(y.a)(t).call(this))).Auth=new $,e.clearData=function(){return sessionStorage.clear()},e.storeData=function(e,t){return sessionStorage.setItem(e,t)},e.getData=function(e){return sessionStorage.getItem(e)},e.getPrompts=function(){K.prompts().then(function(t){return e.setState({prompts:t.data})}).catch(function(e){return console.log(e)})},e.getStories=function(){K.stories().then(function(t){return e.setState({storyPrompts:t.data})}).catch(function(e){return console.log(e)})},e.handleTogglePrompt=Object(h.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showPrompt:!e.state.showPrompt});case 2:case"end":return t.stop()}},t,this)})),e.handlePromptCardChoice=function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({promptCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleToggleStory=Object(h.a)(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showStory:!e.state.showStory});case 2:case"end":return t.stop()}},t,this)})),e.handleStoryCardChoice=function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({storyCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e._handleLogout=function(){e.Auth.logout(),e.props.history.replace("/")},e.getPrompt=function(t){return new Promise(function(a,r){K.prompt(t).then(function(t){e.storeData("prompt-id",t.data.id),e.storeData("prompt-title",t.data.title),e.storeData("prompt-body",t.data.text),e.setState({prompt:t.data})}).catch(function(e){return console.log(e)}),a(e.getData("prompt-id"))})},e.getStoryPrompt=function(t){K.storyPrompt(t).then(function(t){t.data&&e.sessionStory(t)}).catch(function(e){return console.log(e)})},e.getStory=function(t,a){K.story(t,a).then(function(t){t.data&&e.sessionStory(t)}).catch(function(e){return console.log(e)})},e.sessionStory=function(t){e.storeData("story-title",t.data.title),e.storeData("story-body",t.data.story),e.storeData("story-shared",t.data.share),e.setState({story:t.data})},e.handlePromptDetailsButton=function(t){return e.state.showPrompt&&e.state.promptCard===t.id?n.a.createElement("div",null,"\u02c4"):n.a.createElement("div",null,"\u02c5")},e.handleStoryDetailsButton=function(t){return e.state.showStory&&e.state.storyCard===t.id?n.a.createElement("div",null,"\u02c4"):n.a.createElement("div",null,"\u02c5")},e.state={prompts:[],prompt:[],storyPrompts:[],story:[],promptCard:"",showPrompt:!1,storyCard:"",showStory:!1},e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.Auth.getConfirm().id,a=0;"/prompts"===this.props.history.location.pathname&&(this.getPrompts(),this.clearData(),this.getStories()),0===this.props.history.location.pathname.indexOf("/prompt/")?(a=parseInt(this.props.history.location.pathname.replace("/prompt/","")),this.getPrompt(a).then(function(a){return e.getStory(t,a)})):0===this.props.history.location.pathname.indexOf("/story/")&&(a=parseInt(this.props.history.location.pathname.replace("/story/","")),this.getStoryPrompt(a))}},{key:"render",value:function(){var e=this;return n.a.createElement(E,{id:"members",fluid:!0},n.a.createElement(v,{id:"navbar",fluid:!0},n.a.createElement(F,{history:this.props.history,confirm:this.props.confirm,logout:this._handleLogout,className:"navbar"})),"/prompts"===this.props.history.location.pathname?n.a.createElement(E,{id:"prompts"},n.a.createElement(v,{id:"jumbotron",fluid:!0},n.a.createElement(P,null,n.a.createElement(v,{id:"header"},n.a.createElement(k,{className:"h1"},"Group Story Writing")),n.a.createElement(v,{id:"description"},n.a.createElement(j,null,"Have you ever had writer's block? ",n.a.createElement("br",null),"Have you ever thought about writing a novel, but didn't know where to begin? ",n.a.createElement("br",null),"Do you need some inspiration for the next piece to your story? ",n.a.createElement("br",null),"Look no further! ",n.a.createElement("br",null),"Using this site, you can design a small piece of a story using the work of others as an inspiration! ",n.a.createElement("br",null),"So get out there and start writing!")))),n.a.createElement(v,{id:"stories",fluid:!0},n.a.createElement(v,{id:"header"},n.a.createElement(k,{className:"h2",style:{textAlign:"center"}},"Stories")),this.state.prompts.length>0?this.state.prompts.map(function(t,a){return n.a.createElement(v,{key:a,id:t.id},n.a.createElement(O,{id:t.id,className:"prompt-card"},n.a.createElement("div",{className:"card-title"},n.a.createElement(S,{className:"prompt",id:t.id,name:t.title,href:"/prompt/"+t.id,headerName:"h3"},"\xbb ",t.title),n.a.createElement(S,{className:"btn",id:t.id,name:"details",clickEvent1:e.handleTogglePrompt,clickEvent2:e.handlePromptCardChoice,children:e.handlePromptDetailsButton(t)})),n.a.createElement(T,{className:"prompt-body",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},t.text?n.a.createElement(j,null,t.text):n.a.createElement("img",{src:t.src,alt:t.alt})),e.state.storyPrompts.length>0?e.state.storyPrompts.map(function(a,r){return n.a.createElement("div",{key:r},t.id===a.PromptId?n.a.createElement("div",{className:"story-prompts"},n.a.createElement(T,{className:"story-title",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},n.a.createElement(S,{className:"story-prompt",id:a.id,name:a.title,headerName:"h3",href:"/story/"+a.id},">> ",a.title),n.a.createElement(S,{className:"btn",id:a.id,name:"details",clickEvent1:e.handleToggleStory,clickEvent2:e.handleStoryCardChoice,children:e.handleStoryDetailsButton(a)})),n.a.createElement(T,{className:"story-body",id:"card",style:e.state.showStory&&e.state.storyCard===a.id?{display:"flex"}:{}},n.a.createElement(j,null,a.story))):null)}):null))}):null)):n.a.createElement(E,{id:"prompt"},n.a.createElement(v,{id:"jumbotron",fluid:!0},n.a.createElement(P,null,n.a.createElement(v,{id:"header"},n.a.createElement(k,{className:"h1"},this.state.prompt&&this.state.prompt.title?this.state.prompt.title:this.state.story&&this.state.story.title?this.state.story.title:null)),n.a.createElement(v,{id:"prompt-body"},n.a.createElement(j,null,this.state.prompt&&this.state.prompt.text?this.state.prompt.text:this.state.story&&this.state.story.story?this.state.story.story:n.a.createElement("img",{src:this.state.prompt.src,alt:this.state.prompt.alt}))))),n.a.createElement(v,{id:"story"},n.a.createElement(O,{className:"story",id:"story"},n.a.createElement(ee,{history:this.props.history,className:"story"},"Story")))))}}]),t}(r.Component));a(91);var re=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(i.a,null,n.a.createElement(l.a,null,n.a.createElement(c.a,{exact:!0,path:"/",component:te}),n.a.createElement(c.a,{exact:!0,path:"/prompts",component:ae}),n.a.createElement(c.a,{exact:!0,path:"/prompt/:id",component:ae}),n.a.createElement(c.a,{exact:!0,path:"/story/:id",component:ae}))))};o.a.render(n.a.createElement(re,null),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.f7c7d477.chunk.js.map