(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/story-prompt-logo.cec418ee.png"},28:function(e,t,a){e.exports=a(92)},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(24),o=a.n(s),i=a(94),l=a(96),c=a(95),m=a(2),u=a.n(m),h=a(4),p=a(7),d=a(9),f=a(12),y=a(10),g=a(13);a(36);function E(e){return n.a.createElement("div",{className:"container".concat(e.fluid?"-fluid":""),id:e.id},e.children)}function v(e){return n.a.createElement("div",{className:"row".concat(e.fluid?"-fluid":""),id:e.id},e.children)}var N=a(25),b=a.n(N);a(38);var w=function(e){return n.a.createElement("div",{className:e.className},n.a.createElement("img",{src:b.a,alt:e.alt}),n.a.createElement("p",null,e.children))};a(40);var S=function(e){return n.a.createElement("div",{id:e.id},"Welcome, ",e.confirm.username)};a(42);var C=function(e){if("undefined"!=typeof e.style){if("h1"===e.className)return n.a.createElement("h1",{style:e.style},e.children);if("h2"===e.className)return n.a.createElement("h2",{style:e.style},e.children);if("h3"===e.className)return n.a.createElement("h3",{style:e.style},e.children);if("h4"===e.className)return n.a.createElement("h4",{style:e.style},e.children);if("h5"===e.className)return n.a.createElement("h5",{style:e.style},e.children);if("h6"===e.className)return n.a.createElement("h6",{style:e.style},e.children)}else{if("h1"===e.className)return n.a.createElement("h1",null,e.children);if("h2"===e.className)return n.a.createElement("h2",null,e.children);if("h3"===e.className)return n.a.createElement("h3",null,e.children);if("h4"===e.className)return n.a.createElement("h4",null,e.children);if("h5"===e.className)return n.a.createElement("h5",null,e.children);if("h6"===e.className)return n.a.createElement("h6",null,e.children)}},k=(a(44),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return"btn"===this.props.className?n.a.createElement("button",{className:this.props.className,id:this.props.id,name:this.props.name,onClick:this.props.clickEvent2&&this.props.clickEvent3?function(){e.props.clickEvent1(),e.props.clickEvent2(e.props.id),e.props.clickEvent3(e.props.id)}:this.props.clickEvent2?function(){e.props.clickEvent1(),e.props.clickEvent2(e.props.id)}:function(){e.props.clickEvent1()}},this.props.children):"undefined"!=typeof this.props.href?n.a.createElement("a",{className:this.props.className,href:this.props.href,id:this.props.id,name:this.props.name},n.a.createElement(C,{className:this.props.headerName},this.props.children)):void 0}}]),t}(r.Component));a(46);var x=function(e){return"/"===e.history.location.pathname?n.a.createElement("div",{className:e.className},n.a.createElement(k,{className:"btn",id:"login",name:"Log-in",clickEvent1:e.toggleModal,clickEvent2:e.formChoice},"Log-in"),n.a.createElement(k,{className:"btn",id:"signup",name:"Sign-up",clickEvent1:e.toggleModal,clickEvent2:e.formChoice},"Sign-up")):n.a.createElement("div",{className:e.className},n.a.createElement(S,{confirm:e.confirm,id:"greeting"}),n.a.createElement(k,{className:"btn",id:"logout",name:"Log-out",clickEvent1:e.logout},"Log-out"))};a(48);var P=function(e){return n.a.createElement("nav",{className:e.className},n.a.createElement(w,{className:"logo",alt:"story-prompt-logo",children:"WriteSpire"}),n.a.createElement(x,{history:e.history,confirm:e.confirm,formChoice:e.formChoice,logout:e.logout,toggleModal:e.toggleModal,className:"nav-items"}))};a(50);var j=function(e){return n.a.createElement("div",{className:"jumbotron"},e.children)};a(52);var O=function(e){return n.a.createElement("p",{className:"section"},e.children)};a(54);var D=function(e){return n.a.createElement("div",{className:"card-overlay"},n.a.createElement("div",{className:"card "+e.className,id:e.id},e.children))};a(56);var T=function(e){return n.a.createElement("div",{className:"modal-overlay"},n.a.createElement("div",{className:"modal"},n.a.createElement(k,{className:"btn",id:"close",name:"close",clickEvent1:e.toggleModal},"\xd7"),n.a.createElement("div",{className:"modal-content"},e.children)))};a(58);var I=function(e){switch(e.id){case"card":case"modal":return n.a.createElement("div",{className:e.className+" "+e.id+"-wrapper",style:e.style},e.children);default:return n.a.createElement("div",{className:e.className+" wrapper",style:e.style},e.children)}},M=a(14);a(60);var F=function(e){return n.a.createElement("label",{htmlFor:e.htmlFor,className:e.className},e.children)};a(62);var A=function(e){if("textarea"===e.className)return n.a.createElement("textarea",{name:e.name,rows:e.rows,cols:e.cols,value:e.value,onChange:e.onChange});if("checkbox"===e.className)return n.a.createElement("input",{name:e.name,type:e.type,value:e.value,onChange:e.onChange,defaultChecked:e.default});if("input"===e.className){if("undefined"!=typeof e.value)return n.a.createElement("input",{name:e.name,type:e.type,size:e.size,value:e.value,onChange:e.onChange});if("undefined"===typeof e.value)return n.a.createElement("input",{name:e.name,type:e.type,onChange:e.onChange})}},B=a(8),L=a.n(B),U={signup:function(e,t){return L.a.post("/api/signup",{username:e,password:t})},usernameCheck:function(e){return L.a.post("/api/user",{username:e})},scrape:function(){return L.a.get("/scrape")},prompts:function(){return L.a.get("/api/prompts")},prompt:function(e){return L.a.get("/api/prompt/"+e)},stories:function(){return L.a.get("/api/stories/")},story:function(e,t){return L.a.get("/api/story/"+e+"/"+t)},storyPrompt:function(e){return L.a.get("/api/story-prompt/"+e)},save:function(e){return L.a.post("/api/story",e)},share:function(e){return L.a.put("/api/story",e)}},_=a(26),W=a(17),z=a.n(W),H=function e(){var t=this;Object(p.a)(this,e),this.login=function(e,a){return t.fetch("/api/login",{method:"POST",body:JSON.stringify({username:e,password:a})}).then(function(e){return t.setToken(e.token),Promise.resolve(e)})},this.loggedIn=function(){var e=t.getToken();return!!e&&!t.isTokenExpired(e)},this.isTokenExpired=function(e){try{return z()(e).exp()<Date.now()/1e3}catch(t){return!1}},this.setToken=function(e){localStorage.setItem("id_token",e)},this.getToken=function(){return localStorage.getItem("id_token")},this.logout=function(){return localStorage.removeItem("id_token")},this.getConfirm=function(){return z()(t.getToken())},this.fetch=function(e,a){var r={Accept:"application/json","Content-Type":"application/json"};return t.loggedIn()&&(r.Authorization="Bearer "+t.getToken()),fetch(e,Object(_.a)({headers:r},a)).then(t._checkStatus).then(function(e){return e.json()})},this._checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},J=(a(85),function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).Auth=new H,a.state={username:"",password:"",title:"",body:"",share:!1},a.getSessionData=function(e){return sessionStorage.getItem(e)},a.handleFormSubmit=function(e){if(e.preventDefault(),"signup"===a.props.className)U.signup(a.state.username,a.state.password).then(function(e){a.Auth.login(a.state.username,a.state.password).then(function(e){if(!e)return alert("Sorry those credentials don't exist.");a.props.history.push("/prompts")}).catch(function(e){throw e})}).catch(function(e){return console.log(e)});else if("login"===a.props.className)a.Auth.login(a.state.username,a.state.password).then(function(e){if(!e)return alert("Sorry those credentials don't exist.");a.props.history.push("/prompts")}).catch(function(e){return console.log(e)});else{var t=a.Auth.getConfirm().id,r="";0===a.props.history.location.pathname.indexOf("/prompt/")?r=parseInt(a.props.history.location.pathname.replace("/prompt/","")):0===a.props.history.location.pathname.indexOf("/story/")&&(r=parseInt(a.props.history.location.pathname.replace("/story/","")));var n={story:{title:a.state.title,body:a.state.body},share:a.state.share,UserId:t,PromptId:r};a.getSessionData("story-title")&&a.getSessionData("story-body")?U.share(n).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}):U.save(n).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},a.handleUsernameChange=function(e){var t=e.target,r=t.name,n=t.value;U.usernameCheck(n).then(function(e){"string"===typeof e.data?alert("The username already exists. Please choose another."):a.setState(Object(M.a)({},r,n))})},a.handleChange=function(){var e=Object(h.a)(u.a.mark(function e(t){var r,n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,n=r.name,s=r.value,e.next=3,a.setState(Object(M.a)({},n,s));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleCheckboxChange=function(){var e=Object(h.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({share:!a.state.share});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.getSessionData("story-title")&&this.getSessionData("story-body")&&(this.getSessionData("story-shared")&&this.setState({share:this.getSessionData("story-shared")}),this.state.share||this.setState({title:this.getSessionData("story-title"),body:this.getSessionData("story-body")}))}},{key:"render",value:function(){return"signup"!==this.props.className&&"login"!==this.props.className?n.a.createElement("form",{className:this.props.className+" form"},n.a.createElement("div",{className:"form-group"},n.a.createElement(C,{className:"h3"},this.props.children)),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"title",children:"Title"}),n.a.createElement("br",null),n.a.createElement(A,{className:"input",name:"title",type:"text",size:"50",value:this.state.title,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"body",children:"Story"}),n.a.createElement("br",null),n.a.createElement(A,{className:"textarea",name:"body",rows:"15",cols:"80",type:"text",value:this.state.body,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group",id:"checkbox"},n.a.createElement(F,{htmlFor:"share",children:"Share"}),n.a.createElement(A,{className:"checkbox",name:"share",type:"checkbox",value:this.state.share,onChange:this.handleCheckboxChange})),n.a.createElement("button",{name:"save",className:this.props.className+" submit-btn",id:"save-story",onClick:this.handleFormSubmit},"Save")):"signup"===this.props.className?n.a.createElement("form",{className:this.props.className+" form"},n.a.createElement("div",{className:"form-group"},n.a.createElement(C,{className:"h3"},this.props.children)),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"username",children:"Username"}),n.a.createElement("br",null),n.a.createElement(A,{className:"input",name:"username",type:"text",onChange:this.handleUsernameChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"password",children:"Password"}),n.a.createElement("br",null),n.a.createElement(A,{className:"input",name:"password",type:"password",onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"confirm",children:"Confirm Password"}),n.a.createElement("br",null),n.a.createElement(A,{className:"input",name:"confirm",type:"password",onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("button",{name:this.props.children,className:this.props.className+" submit-btn",onClick:this.handleFormSubmit},this.props.children)):"login"===this.props.className?n.a.createElement("form",{className:this.props.className+" form"},n.a.createElement("div",{className:"form-group"},n.a.createElement(C,{className:"h3"},this.props.children)),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"username",children:"Username"}),n.a.createElement("br",null),n.a.createElement(A,{className:"input",name:"username",type:"text",onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group"},n.a.createElement(F,{htmlFor:"password",children:"Password"}),n.a.createElement("br",null),n.a.createElement(A,{className:"input",name:"password",type:"password",onChange:this.handleChange})),n.a.createElement(k,{className:"link",href:"",id:"forgot-password",name:"",headerName:"h5"},"forgot password?"),n.a.createElement("button",{name:this.props.children,className:this.props.className+" submit-btn",onClick:this.handleFormSubmit},this.props.children)):void 0}}]),t}(r.Component)),G=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(y.a)(t).call(this))).getPrompts=function(){U.prompts().then(function(t){return e.setState({prompts:t.data})}).catch(function(e){return console.log(e)})},e.clearData=function(){return sessionStorage.clear()},e.getStories=function(){U.stories().then(function(t){return e.setState({storyPrompts:t.data})}).catch(function(e){return console.log(e)})},e.handleFormChoice=function(){var t=Object(h.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({formClass:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleToggleModal=Object(h.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showModal:!e.state.showModal});case 2:case"end":return t.stop()}},t,this)})),e.handleTogglePrompt=Object(h.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showPrompt:!e.state.showPrompt});case 2:case"end":return t.stop()}},t,this)})),e.handlePromptCardChoice=function(){var t=Object(h.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({promptCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleToggleStory=Object(h.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showStory:!e.state.showStory});case 2:case"end":return t.stop()}},t,this)})),e.handleStoryCardChoice=function(){var t=Object(h.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({storyCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handlePromptDetailsButton=function(t){return e.state.showPrompt&&e.state.promptCard===t.id?n.a.createElement("div",null,"\u02c5"):n.a.createElement("div",null,"\u02c4")},e.handleStoryDetailsButton=function(t){return e.state.showStory&&e.state.storyCard===t.id?n.a.createElement("div",null,"\u02c5"):n.a.createElement("div",null,"\u02c4")},e.state={prompts:[],storyPrompts:[],formClass:"",showModal:!1,promptCard:"",showPrompt:!1,storyCard:"",showStory:!1},e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getPrompts(),this.clearData(),this.getStories()}},{key:"render",value:function(){var e=this;return n.a.createElement(E,{id:"index",fluid:!0},n.a.createElement(v,{id:"navbar",fluid:!0},n.a.createElement(P,{history:this.props.history,formChoice:this.handleFormChoice,toggleModal:this.handleToggleModal,className:"navbar"})),n.a.createElement(E,{id:"prompts"},n.a.createElement(v,{id:"jumbotron",fluid:!0},n.a.createElement(j,null,n.a.createElement(v,{id:"header"},n.a.createElement(C,{className:"h1"},"Group Story Writing")),n.a.createElement(v,{id:"description"},n.a.createElement(O,null,"Have you ever had writer's block? ",n.a.createElement("br",null),"Have you ever thought about writing a novel, but didn't know where to begin? ",n.a.createElement("br",null),"Do you need some inspiration for the next piece to your story? ",n.a.createElement("br",null),"Look no further! ",n.a.createElement("br",null),"Using this site, you can design a small piece of a story using the work of others as an inspiration! ",n.a.createElement("br",null),"So get out there and start writing!")))),n.a.createElement(v,{id:"modal",fluid:!0},n.a.createElement(I,{className:"modal",id:"modal",style:this.state.showModal?{display:"flex"}:{}},n.a.createElement(T,{toggleModal:this.handleToggleModal},"signup"===this.state.formClass?n.a.createElement(J,{history:this.props.history,className:this.state.formClass},"Sign-up"):"login"===this.state.formClass?n.a.createElement(J,{history:this.props.history,className:this.state.formClass},"Log-in"):null))),n.a.createElement(v,{id:"stories",fluid:!0},n.a.createElement(v,{id:"header"},n.a.createElement(C,{className:"h2",style:{textAlign:"center"}},"Stories")),this.state.prompts.length>0?this.state.prompts.map(function(t,a){return n.a.createElement(v,{key:a,id:t.id},n.a.createElement(D,{id:t.id,className:"prompt-card"},n.a.createElement("div",{className:"card-title"},n.a.createElement(k,{className:"prompt",id:t.id,name:t.title,href:"/prompt/"+t.id,headerName:"h3"},"\xbb ",t.title),n.a.createElement(k,{className:"btn",id:t.id,name:"details",clickEvent1:e.handleTogglePrompt,clickEvent2:e.handlePromptCardChoice,children:e.handlePromptDetailsButton(t)})),n.a.createElement(I,{className:"prompt-body",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},t.text?n.a.createElement(O,null,t.text):n.a.createElement("img",{src:t.src,alt:t.alt})),e.state.storyPrompts.length>0?e.state.storyPrompts.map(function(a,r){return n.a.createElement("div",{key:r},t.id===a.PromptId?n.a.createElement("div",{className:"story-prompts"},n.a.createElement(I,{className:"story-title",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},n.a.createElement(k,{className:"story-prompt",id:a.id,name:a.title,headerName:"h3",href:"/story/"+a.id},">> ",a.title),n.a.createElement(k,{className:"btn",id:a.id,name:"details",clickEvent1:e.handleToggleStory,clickEvent2:e.handleStoryCardChoice,children:e.handleStoryDetailsButton(a)})),n.a.createElement(I,{className:"story-body",id:"card",style:e.state.showStory&&e.state.storyCard===a.id?{display:"flex"}:{}},n.a.createElement(O,null,a.story))):null)}):null))}):null)))}}]),t}(r.Component);var q=function(e){var t=new H;return function(a){function r(){var e,t;Object(p.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(y.a)(r)).call.apply(e,[this].concat(n)))).state={loaded:!1,confirm:null},t}return Object(g.a)(r,a),Object(d.a)(r,[{key:"componentDidMount",value:function(){if(t.loggedIn())try{var e=t.getConfirm();this.setState({loaded:!0,confirm:e})}catch(a){console.log(a),t.logout(),this.props.history.replace("/")}else this.props.history.replace("/")}},{key:"render",value:function(){var t=this.state,a=t.loaded,r=t.confirm;return a?r?n.a.createElement(e,{history:this.props.history,confirm:r}):(console.log("not confirmed"),null):null}}]),r}(r.Component)}(function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(y.a)(t).call(this))).Auth=new H,e.clearData=function(){return sessionStorage.clear()},e.storeData=function(e,t){return sessionStorage.setItem(e,t)},e.getData=function(e){return sessionStorage.getItem(e)},e.getPrompts=function(){U.prompts().then(function(t){return e.setState({prompts:t.data})}).catch(function(e){return console.log(e)})},e.getStories=function(){U.stories().then(function(t){return e.setState({storyPrompts:t.data})}).catch(function(e){return console.log(e)})},e.handleTogglePrompt=Object(h.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showPrompt:!e.state.showPrompt});case 2:case"end":return t.stop()}},t,this)})),e.handlePromptCardChoice=function(){var t=Object(h.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({promptCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.handleToggleStory=Object(h.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({showStory:!e.state.showStory});case 2:case"end":return t.stop()}},t,this)})),e.handleStoryCardChoice=function(){var t=Object(h.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({storyCard:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e._handleLogout=function(){e.Auth.logout(),e.props.history.replace("/")},e.getPrompt=function(t){return new Promise(function(a,r){U.prompt(t).then(function(t){e.storeData("prompt-id",t.data.id),e.storeData("prompt-title",t.data.title),e.storeData("prompt-body",t.data.text),e.setState({prompt:t.data})}).catch(function(e){return console.log(e)}),a(e.getData("prompt-id"))})},e.getStoryPrompt=function(t){U.storyPrompt(t).then(function(t){t.data&&e.sessionStory(t)}).catch(function(e){return console.log(e)})},e.getStory=function(t,a){U.story(t,a).then(function(t){t.data&&e.sessionStory(t)}).catch(function(e){return console.log(e)})},e.sessionStory=function(t){e.storeData("story-title",t.data.title),e.storeData("story-body",t.data.story),e.storeData("story-shared",t.data.share),e.setState({story:t.data})},e.handlePromptDetailsButton=function(t){return e.state.showPrompt&&e.state.promptCard===t.id?n.a.createElement("div",null,"\u02c5"):n.a.createElement("div",null,"\u02c4")},e.handleStoryDetailsButton=function(t){return e.state.showStory&&e.state.storyCard===t.id?n.a.createElement("div",null,"\u02c5"):n.a.createElement("div",null,"\u02c4")},e.state={prompts:[],prompt:[],storyPrompts:[],story:[],promptCard:"",showPrompt:!1,storyCard:"",showStory:!1},e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.Auth.getConfirm().id,a=0;"/prompts"===this.props.history.location.pathname&&(this.getPrompts(),this.clearData(),this.getStories()),0===this.props.history.location.pathname.indexOf("/prompt/")?(a=parseInt(this.props.history.location.pathname.replace("/prompt/","")),this.getPrompt(a).then(function(a){return e.getStory(t,a)})):0===this.props.history.location.pathname.indexOf("/story/")&&(a=parseInt(this.props.history.location.pathname.replace("/story/","")),this.getStoryPrompt(a))}},{key:"render",value:function(){var e=this;return n.a.createElement(E,{id:"members",fluid:!0},n.a.createElement(v,{id:"navbar",fluid:!0},n.a.createElement(P,{history:this.props.history,confirm:this.props.confirm,logout:this._handleLogout,className:"navbar"})),"/prompts"===this.props.history.location.pathname?n.a.createElement(E,{id:"prompts"},n.a.createElement(v,{id:"jumbotron",fluid:!0},n.a.createElement(j,null,n.a.createElement(v,{id:"header"},n.a.createElement(C,{className:"h1"},"Group Story Writing")),n.a.createElement(v,{id:"description"},n.a.createElement(O,null,"Have you ever had writer's block? ",n.a.createElement("br",null),"Have you ever thought about writing a novel, but didn't know where to begin? ",n.a.createElement("br",null),"Do you need some inspiration for the next piece to your story? ",n.a.createElement("br",null),"Look no further! ",n.a.createElement("br",null),"Using this site, you can design a small piece of a story using the work of others as an inspiration! ",n.a.createElement("br",null),"So get out there and start writing!")))),n.a.createElement(v,{id:"stories",fluid:!0},n.a.createElement(v,{id:"header"},n.a.createElement(C,{className:"h2",style:{textAlign:"center"}},"Stories")),this.state.prompts.length>0?this.state.prompts.map(function(t,a){return n.a.createElement(v,{key:a,id:t.id},n.a.createElement(D,{id:t.id,className:"prompt-card"},n.a.createElement("div",{className:"card-title"},n.a.createElement(k,{className:"prompt",id:t.id,name:t.title,href:"/prompt/"+t.id,headerName:"h3"},"\xbb ",t.title),n.a.createElement(k,{className:"btn",id:t.id,name:"details",clickEvent1:e.handleTogglePrompt,clickEvent2:e.handlePromptCardChoice,children:e.handlePromptDetailsButton(t)})),n.a.createElement(I,{className:"prompt-body",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},t.text?n.a.createElement(O,null,t.text):n.a.createElement("img",{src:t.src,alt:t.alt})),e.state.storyPrompts.length>0?e.state.storyPrompts.map(function(a,r){return n.a.createElement("div",{key:r},t.id===a.PromptId?n.a.createElement("div",{className:"story-prompts"},n.a.createElement(I,{className:"story-title",id:"card",style:e.state.showPrompt&&e.state.promptCard===t.id?{display:"flex"}:{}},n.a.createElement(k,{className:"story-prompt",id:a.id,name:a.title,headerName:"h3",href:"/story/"+a.id},">> ",a.title),n.a.createElement(k,{className:"btn",id:a.id,name:"details",clickEvent1:e.handleToggleStory,clickEvent2:e.handleStoryCardChoice,children:e.handleStoryDetailsButton(a)})),n.a.createElement(I,{className:"story-body",id:"card",style:e.state.showStory&&e.state.storyCard===a.id?{display:"flex"}:{}},n.a.createElement(O,null,a.story))):null)}):null))}):null)):n.a.createElement(E,{id:"prompt"},n.a.createElement(v,{id:"jumbotron",fluid:!0},n.a.createElement(j,null,n.a.createElement(v,{id:"header"},n.a.createElement(C,{className:"h1"},this.state.prompt&&this.state.prompt.title?this.state.prompt.title:this.state.story&&this.state.story.title?this.state.story.title:null)),n.a.createElement(v,{id:"prompt-body"},n.a.createElement(O,null,this.state.prompt&&this.state.prompt.text?this.state.prompt.text:this.state.story&&this.state.story.story?this.state.story.story:n.a.createElement("img",{src:this.state.prompt.src,alt:this.state.prompt.alt}))))),n.a.createElement(v,{id:"story"},n.a.createElement(D,{className:"story",id:"story"},n.a.createElement(J,{history:this.props.history,className:"story"},"Story")))))}}]),t}(r.Component));a(87);var K=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(i.a,null,n.a.createElement(l.a,null,n.a.createElement(c.a,{exact:!0,path:"/",component:G}),n.a.createElement(c.a,{exact:!0,path:"/prompts",component:q}),n.a.createElement(c.a,{exact:!0,path:"/prompt/:id",component:q}),n.a.createElement(c.a,{exact:!0,path:"/story/:id",component:q}))))};o.a.render(n.a.createElement(K,null),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.53a82f22.chunk.js.map